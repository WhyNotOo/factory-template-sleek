<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">

    <title></title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="gtv-autozoom" content="off">

    <script type="text/javascript" src="todate.js"></script>
    <script type="text/javascript" src="vendor/moment.js"></script>
    <script type="text/javascript" src="prettystatus.js"></script>
    <script data-joshfire-bootstrap src="http://192.168.2.115:40021/bootstrap/4f8d2eda4fe1db9d17000021/4f8e8296067fd7bf0c000263/tv/"></script>

    <style type="text/css" media="screen">
      body, html {
        height: 100%;
        padding: 0;
        overflow: hidden;
      }

      body {
        background: #000 url(images/spinner.gif) no-repeat center center;
      }

      #container {
        display: none;
      }
    </style>
  </head>

  <body class="device-tv" ontouchmove="event.preventDefault()">
    <div id="container">

      <div id="cards"></div>

      <div id="top-gradient-overlay"></div>
      <div id="bottom-gradient-overlay"></div>

      <div id="toolbar"></div>

      <div id="photos-detail"></div>

      <div id="videos-detail"></div>

    </div>

    <!-- TEMPLATES MOSTLY SPECIFIC TO TV version -->

    <script type="text/template" id="template-toolbar">
      <div id="logo"></div>
      <ul>
        <%= children %>
      </ul>
      <div class="highlight"></div>
    </script>

    <script type="text/template" id="toolbar-item">
      <li>
        <a href="<%= item.linkURL %>" class="<%= item.outputType %> section-<%= item.slug %>">
          <%= item.name %>
        </a>
      </li>
    </script>

    <script type="text/template" id="template-list-view">
      <div class="list-container">
        <div class="list-indicator"></div>
        <ul class="list">
          <%= children %>
        </ul>
      </div>
      <div class="spinner">&nbsp;</div>
    </script>

    <script type="text/template" id="template-mosaic">
      <ul class="mosaic">
        <%= children %>
      </ul>
    </script>

    <script type="text/template" id="template-other-item">
      <li class="other-item">
        <div>
          <a href="#<%= section.slug %>/<%= offset %>">
            <div>Unknown item type: <%= item['@type'] || item.itemType %></div>
          </a>
        </div>
      </li>
    </script>

    <script type="text/template" id="template-image-item">
      <li class="photo-item">
        <div class="container">
          <div class="image" style="background-image: url(<%= imageUrl %>)">
            <a class="image-link" href="#<%= section.slug %>/<%= offset %>" title="<%= item.name %>">&nbsp;</a>
          </div>
          <div class="caption"><%= item.name %></div>
          <div class="spinner">&nbsp;</div>
        </div>
      </li>
    </script>

    <script type="text/template" id="template-video-item">
      <li class="video-item">
        <div class="container">
          <div class="image" style="background-image: url(<%= (item.thumbnail && item.thumbnail[1]) ? item.thumbnail[1].contentURL : ((item.thumbnail && item.thumbnail[0]) ? item.thumbnail[0].contentURL : (item.image ? item.image.contentURL : '')) %>)">
            <a class="video-link" href="#<%= section.slug %>/<%= offset %>" title="<%= item.name %>">&nbsp;</a>
          </div>
          <div class="caption"><%= item.name %></div>
          <div class="spinner">&nbsp;</div>
        </div>
      </li>
    </script>

    <script type="text/template" id="template-status-item">
      <li class="status-item">
        <div>
          <a href="#<%= section.slug %>/<%= offset %>">
            <div class="left">
              <div class="image" style="background-image: url(<%= item.author[0].image.contentURL %>)"></div>
            </div>
            <div class="right"><div class="item-content">
              <h3><%= item.name %></h3>
            </div></div>
            <div class="far-left">
              <p><%= item.author[0].name %><br><%= moment(toDate(item.datePublished)).fromNow() %></p>
            </div>
          </a>
        </div>
      </li>
    </script>

    <script type="text/template" id="template-video-item">
      <li class="video-item">
        <div>
          <a href="#<%= section.slug %>/<%= offset %>">
            <div>
              <div class="left">
                <div class="image" style="background-image: url(<%= (item.thumbnail && item.thumbnail[0]) ? item.thumbnail[0].contentURL : (item.image ? item.image.contentURL : '')%>)"></div>
              </div>
              <div class="right"><div class="item-content">
                <h3><%= item.name %></h3>
              </div></div>
            </div>
          </a>
        </div>
      </li>
    </script>

    <script type="text/template" id="template-event-item">
      <li class="event-item">
        <div>
          <a href="#<%= section.slug %>/<%= offset %>">
            <div class="item-content">
              <h3><%= item.name %></h3>
            </div>
            <div class="far-left">
              <p><%= moment(toDate(item.startDate)).calendar() %></p>
            </div>
          </a>
        </div>
      </li>
    </script>

    <script type="text/template" id="template-news-item">
      <li class="news-item">
        <div>
          <a href="#<%= section.slug %>/<%= offset %>">
            <div class="item-content">
              <h3><%= item.name %></h3>
            </div>
            <div class="far-left">
              <p><%= moment(toDate(item.datePublished)).fromNow() %></p>
            </div>
          </a>
        </div>
      </li>
    </script>

    <script type="text/template" id="template-sound-item">
      <li class="sound-item">
        <div>
          <a href="#<%= section.slug %>/<%= offset %>">
            <div>
              <% if(item.author && item.author.name) { %><h3><%= item.author.name %></h3><% } %>
              <h4><%= item.name %></h4>
            </div>
          </a>
        </div>
      </li>
    </script>

    <script type="text/template" id="template-photo">
      <div class="image" style="background-image: url(<%= imageUrl %>)"></div>
      <div class="spinner"></div>
    </script>

    <script type="text/template" id="template-video">
      <%= media %>
    </script>

    <script type="text/template" id="template-status">
      <div>
        <div class="head">
          <div class="image" style="background-image: url(<%= item.author[0].image.contentURL %>)"></div>
          <div class="title"><p><%= item.author[0].name %><br><%= moment(toDate(item.datePublished)).fromNow() %></p></div>
        </div>
        <p><%= prettyStatus(item.name) %></p>
      </div>
    </script>

    <script type="text/template" id="template-event">
      <div>
        <div class="head">
          From <%= moment(toDate(item.startDate)).format('LLLL') %> to <%= moment(toDate(item.endDate)).format('LLLL') %>
        </div>
        <div class="body">
          <h4><%= item.name %></h4>
          <% if(item.description) { %>
            <p class="description"><%= item.description %></p>
          <% } %>
          <% if(item.location && item.location.name) { %>
            <p class="location"><%= item.location.name %></p>
          <% } %>
        </div>
      </div>
    </script>

    <script type="text/template" id="template-video">
      <div>
        <a href="<%= item.contentURL %>" target="_blank">
          <img src="<%= imageUrl %>" class="image">
          <div class="spinner">&nbsp;</div>
          <div class="play"><span>&nbsp;</span></div>
        </a>
        <div class="body">
          <h3><%= moment(toDate(item.uploadDate)).format('LLLL') %></h3>
          <h4><%= item.name %></h4>
          <% if(item.description) { %>
          <p><%= item.description %></p>
          <% } %>
        </div>
      </div>
    </script>

    <script type="text/template" id="template-news">
      <div>
        <div class="head">
          <%= item.name %>
        </div>
        <div class="body">
          <h4><%= moment(toDate(item.datePublished)).format('LLLL') %></h4>
          <%= item.articleBody %>
        </div>
      </div>
    </script>

    <script type="text/template" id="template-other">
      <div>
        <h4><%= item.name %></h4>
        <div class="body">
          <%= item.description %>
        </div>
      </div>
    </script>

    <script type="text/template" id="template-contact">
      <div><%= textContent %></div>
    </script>

    <script type="text/template" id="template-sound">
      <div>
        <div class="head">
          <div class="image" style="background-image: url(<%= item.thumbnail[0].contentURL %>)"></div>
          <div class="title"><p><%= item.name %><% if(item.author && item.author.name) { %> by <%= item.author.name %><% } %></p></div>
        </div>

        <div class="body">
          <% if (item.uploadDate || item.datePublished || item.dateCreated) { %>
            <h4><%= moment(toDate(item.uploadDate || item.datePublished || item.dateCreated)).format('LLLL') %></h4>
          <% } %>

          <div class="media"><%= media %></div>
          <% if(item.description) { %>
          <p><%= item.description %></p>
          <% } %>
        </div>
      </div>
    </script>

    <script data-main="app.tv" src="joshfire-framework/lib/adapters/tv/bootstrap.js"></script>
  </body>
</html>
